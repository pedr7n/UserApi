import { CreateDatabaseCommand } from "./CreateDatabaseOperation.js";
import { throwError } from "../../Exceptions/index.js";
export class UpdateDatabaseOperation {
    _databaseRecord;
    _etag;
    _replicationFactor;
    constructor(databaseRecord, etag, replicationFactor) {
        this._databaseRecord = databaseRecord;
        this._etag = etag;
        const topology = databaseRecord.topology;
        if (replicationFactor) {
            this._replicationFactor = replicationFactor;
        }
        else {
            if (topology && topology.replicationFactor > 0) {
                this._replicationFactor = topology.replicationFactor;
            }
            else {
                throwError("InvalidArgumentException", "DatabaseRecord.Topology.ReplicationFactor is missing");
            }
        }
    }
    get resultType() {
        return "CommandResult";
    }
    getCommand(conventions) {
        return new CreateDatabaseCommand(conventions, this._databaseRecord, this._replicationFactor, this._etag);
    }
}
//# sourceMappingURL=UpdateDatabaseOperation.js.map