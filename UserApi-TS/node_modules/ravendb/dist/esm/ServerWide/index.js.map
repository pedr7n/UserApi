{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/ServerWide/index.ts"],"names":[],"mappings":"","sourcesContent":["import { DatabaseTopology } from \"./Operations/index.js\";\r\nimport { SorterDefinition } from \"../Documents/Queries/Sorting/SorterDefinition.js\";\r\nimport { DeletionInProgressStatus } from \"./DeletionInProgressStatus.js\";\r\nimport { AutoIndexDefinition } from \"../Documents/Indexes/AutoIndexDefinition.js\";\r\nimport { ExpirationConfiguration } from \"../Documents/Operations/Expiration/ExpirationConfiguration.js\";\r\nimport { PeriodicBackupConfiguration } from \"../Documents/Operations/Backups/PeriodicBackupConfiguration.js\";\r\nimport { PullReplicationAsSink } from \"../Documents/Operations/Replication/PullReplicationAsSink.js\";\r\nimport { PullReplicationDefinition } from \"../Documents/Operations/Replication/PullReplicationDefinition.js\";\r\nimport { RavenEtlConfiguration } from \"../Documents/Operations/Etl/RavenEtlConfiguration.js\";\r\nimport { SqlEtlConfiguration } from \"../Documents/Operations/Etl/Sql/SqlEtlConfiguration.js\";\r\nimport { StudioConfiguration } from \"../Documents/Operations/Configuration/StudioConfiguration.js\";\r\nimport { IndexDefinition } from \"../Documents/Indexes/IndexDefinition.js\";\r\nimport { RevisionsConfiguration } from \"../Documents/Operations/RevisionsConfiguration.js\";\r\nimport { ExternalReplication } from \"../Documents/Replication/ExternalReplication.js\";\r\nimport {\r\n    ElasticSearchConnectionString,\r\n    OlapConnectionString, QueueConnectionString,\r\n    RavenConnectionString,\r\n    SqlConnectionString\r\n} from \"../Documents/Operations/Etl/ConnectionString.js\";\r\nimport { ClientConfiguration } from \"../Documents/Operations/Configuration/ClientConfiguration.js\";\r\nimport { RefreshConfiguration } from \"../Documents/Operations/Refresh/RefreshConfiguration.js\";\r\nimport { RevisionsCollectionConfiguration } from \"../Documents/Operations/RevisionsCollectionConfiguration.js\";\r\nimport { DocumentsCompressionConfiguration } from \"./DocumentsCompressionConfiguration.js\";\r\nimport { TimeSeriesConfiguration } from \"../Documents/Operations/TimeSeries/TimeSeriesConfiguration.js\";\r\nimport { RollingIndexDeployment } from \"../Documents/Indexes/RollingIndexDeployment.js\";\r\nimport { RollingIndex } from \"../Documents/Indexes/RollingIndex.js\";\r\nimport { AnalyzerDefinition } from \"../Documents/Indexes/Analysis/AnalyzerDefinition.js\";\r\nimport { OlapEtlConfiguration } from \"../Documents/Operations/Etl/Olap/OlapEtlConfiguration.js\";\r\nimport { IntegrationConfigurations } from \"./Operations/Integrations/PostgreSql/IntegrationConfigurations.js\";\r\nimport { ElasticSearchEtlConfiguration } from \"../Documents/Operations/Etl/ElasticSearch/ElasticSearchEtlConfiguration.js\";\r\nimport { QueueEtlConfiguration } from \"../Documents/Operations/Etl/Queue/QueueEtlConfiguration.js\";\r\nimport { DataArchivalConfiguration } from \"../Documents/Operations/DataArchival/DataArchivalConfiguration.js\";\r\nimport { QueueSinkConfiguration } from \"../Documents/Operations/QueueSink/QueueSinkConfiguration.js\";\r\nimport { ShardingConfiguration } from \"./Sharding/ShardingConfiguration.js\";\r\n\r\nexport interface ScriptResolver {\r\n    script: string;\r\n    lastModifiedTime: Date;\r\n}\r\n\r\nexport interface ConflictSolver {\r\n    resolveByCollection: { [key: string]: ScriptResolver };\r\n    resolveToLatest: boolean;\r\n}\r\n\r\nexport interface DatabaseRecord {\r\n    databaseName: string;\r\n    disabled?: boolean;\r\n    encrypted?: boolean;\r\n    etagForBackup?: number;\r\n    deletionInProgress?: { [key: string]: DeletionInProgressStatus };\r\n    rollingIndexes?: { [key: string]: RollingIndex };\r\n    databaseState?: DatabaseStateStatus;\r\n    lockMode?: DatabaseLockMode;\r\n    topology?: DatabaseTopology;\r\n    sharding?: ShardingConfiguration;\r\n    conflictSolverConfig?: ConflictSolver;\r\n    documentsCompression?: DocumentsCompressionConfiguration;\r\n    sorters?: { [key: string]: SorterDefinition };\r\n    analyzers?: { [key: string]: AnalyzerDefinition };\r\n    indexes?: { [key: string]: IndexDefinition };\r\n    indexesHistory?: { [key: string]: IndexHistoryEntry[] };\r\n    autoIndexes?: { [key: string]: AutoIndexDefinition };\r\n    settings?: { [key: string]: string };\r\n    revisions?: RevisionsConfiguration;\r\n    timeSeries?: TimeSeriesConfiguration;\r\n    revisionsForConflicts?: RevisionsCollectionConfiguration;\r\n    expiration?: ExpirationConfiguration;\r\n    refresh?: RefreshConfiguration;\r\n    dataArchival?: DataArchivalConfiguration;\r\n    integrations?: IntegrationConfigurations;\r\n    periodicBackups?: PeriodicBackupConfiguration[];\r\n    externalReplications?: ExternalReplication[];\r\n    sinkPullReplications?: PullReplicationAsSink[];\r\n    hubPullReplications?: PullReplicationDefinition[];\r\n    ravenConnectionStrings?: { [key: string]: RavenConnectionString };\r\n    sqlConnectionStrings?: { [key: string]: SqlConnectionString };\r\n    olapConnectionStrings?: { [key: string]: OlapConnectionString };\r\n    elasticSearchConnectionStrings?: { [key: string]: ElasticSearchConnectionString };\r\n    queueConnectionStrings?: { [key: string]: QueueConnectionString };\r\n    ravenEtls?: RavenEtlConfiguration[];\r\n    sqlEtls?: SqlEtlConfiguration[];\r\n    elasticSearchEtls?: ElasticSearchEtlConfiguration[];\r\n    olapEtls?: OlapEtlConfiguration[];\r\n    queueEtls?: QueueEtlConfiguration[];\r\n    queueSinks?: QueueSinkConfiguration[];\r\n    client?: ClientConfiguration;\r\n    studio?: StudioConfiguration;\r\n    truncatedClusterTransactionIndex?: number;\r\n    unusedDatabaseIds?: string[];\r\n}\r\n\r\nexport interface IndexHistoryEntry {\r\n    definition: IndexDefinition;\r\n    source: string;\r\n    createdAt: Date;\r\n    rollingDeployment: Record<string, RollingIndexDeployment>;\r\n}\r\n\r\nexport interface DatabaseRecordWithEtag extends DatabaseRecord {\r\n    etag: number;\r\n}\r\n\r\nexport type DatabaseStateStatus =\r\n    \"Normal\"\r\n    | \"RestoreInProgress\";\r\n\r\nexport type DatabaseLockMode =\r\n    \"Unlock\"\r\n    | \"PreventDeletesIgnore\"\r\n    | \"PreventDeletesError\";\r\n"]}