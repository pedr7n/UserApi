{"version":3,"file":"QueueEtlConfiguration.js","sourceRoot":"","sources":["../../../../../../src/Documents/Operations/Etl/Queue/QueueEtlConfiguration.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,gBAAgB,EAAE,MAAM,wBAAwB,CAAC;AAK1D,MAAM,OAAO,qBAAsB,SAAQ,gBAAuC;IACvE,MAAM,CAAa;IACnB,UAAU,CAAkB;IAC5B,6BAA6B,CAAU;IAEvC,OAAO,GAAY,OAAO,CAAC;IAE3B,SAAS,CAAC,WAAgC;QAC7C,MAAM,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC,WAAW,CAAQ,CAAC;QACnD,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC9B,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAC1E,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QACpC,MAAM,CAAC,6BAA6B,GAAG,IAAI,CAAC,6BAA6B,CAAC;QAC1E,OAAO,MAAM,CAAC;IAClB,CAAC;IAEO,cAAc,CAAC,KAAe;QAClC,OAAO;YACH,IAAI,EAAE,KAAK,CAAC,IAAI;YAChB,wBAAwB,EAAE,KAAK,CAAC,wBAAwB;SAC3D,CAAA;IACL,CAAC;CACJ","sourcesContent":["import { EtlConfiguration } from \"../EtlConfiguration.js\";\r\nimport { EtlType, QueueBrokerType, QueueConnectionString } from \"../ConnectionString.js\";\r\nimport { EtlQueue } from \"./EtlQueue.js\";\r\nimport { DocumentConventions } from \"../../../Conventions/DocumentConventions.js\";\r\n\r\nexport class QueueEtlConfiguration extends EtlConfiguration<QueueConnectionString> {\r\n    public queues: EtlQueue[];\r\n    public brokerType: QueueBrokerType;\r\n    public skipAutomaticQueueDeclaration: boolean;\r\n\r\n    public etlType: EtlType = \"Queue\";\r\n\r\n    public serialize(conventions: DocumentConventions): object {\r\n        const result = super.serialize(conventions) as any;\r\n        result.EtlType = this.etlType;\r\n        result.Queues = this.queues ? this.queues.map(this.serializeQueue) : null;\r\n        result.BrokerType = this.brokerType;\r\n        result.SkipAutomaticQueueDeclaration = this.skipAutomaticQueueDeclaration;\r\n        return result;\r\n    }\r\n\r\n    private serializeQueue(queue: EtlQueue) {\r\n        return {\r\n            Name: queue.name,\r\n            DeleteProcessedDocuments: queue.deleteProcessedDocuments\r\n        }\r\n    }\r\n}\r\n"]}