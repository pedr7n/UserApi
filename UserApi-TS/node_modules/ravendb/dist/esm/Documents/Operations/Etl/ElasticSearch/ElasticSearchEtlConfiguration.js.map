{"version":3,"file":"ElasticSearchEtlConfiguration.js","sourceRoot":"","sources":["../../../../../../src/Documents/Operations/Etl/ElasticSearch/ElasticSearchEtlConfiguration.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,gBAAgB,EAAE,MAAM,wBAAwB,CAAC;AAK1D,MAAM,OAAO,6BAA8B,SAAQ,gBAA+C;IACvF,cAAc,CAAwB;IAEtC,OAAO,GAAY,eAAe,CAAC;IAE1C,SAAS,CAAC,WAAgC;QACtC,MAAM,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC,WAAW,CAAQ,CAAC;QAEnD,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC9B,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAExG,OAAO,MAAM,CAAC;IAClB,CAAC;IAEO,oBAAoB,CAAC,WAA+B;QACxD,OAAO;YACH,SAAS,EAAE,WAAW,CAAC,SAAS;YAChC,kBAAkB,EAAE,WAAW,CAAC,kBAAkB;YAClD,cAAc,EAAE,WAAW,CAAC,cAAc;SAC7C,CAAA;IACL,CAAC;CACJ","sourcesContent":["import { EtlConfiguration } from \"../EtlConfiguration.js\";\r\nimport { ElasticSearchConnectionString, EtlType } from \"../ConnectionString.js\";\r\nimport { ElasticSearchIndex } from \"./ElasticSearchIndex.js\";\r\nimport { DocumentConventions } from \"../../../Conventions/DocumentConventions.js\";\r\n\r\nexport class ElasticSearchEtlConfiguration extends EtlConfiguration<ElasticSearchConnectionString> {\r\n    public elasticIndexes?: ElasticSearchIndex[];\r\n\r\n    public etlType: EtlType = \"ElasticSearch\";\r\n\r\n    serialize(conventions: DocumentConventions): object {\r\n        const result = super.serialize(conventions) as any;\r\n\r\n        result.EtlType = this.etlType;\r\n        result.ElasticIndexes = this.elasticIndexes ? this.elasticIndexes.map(this.serializeSearchIndex) : null;\r\n\r\n        return result;\r\n    }\r\n\r\n    private serializeSearchIndex(searchIndex: ElasticSearchIndex) {\r\n        return {\r\n            IndexName: searchIndex.indexName,\r\n            DocumentIdProperty: searchIndex.documentIdProperty,\r\n            InsertOnlyMode: searchIndex.insertOnlyMode\r\n        }\r\n    }\r\n}\r\n"]}