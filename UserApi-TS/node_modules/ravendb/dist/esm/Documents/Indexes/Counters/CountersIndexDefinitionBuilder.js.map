{"version":3,"file":"CountersIndexDefinitionBuilder.js","sourceRoot":"","sources":["../../../../../src/Documents/Indexes/Counters/CountersIndexDefinitionBuilder.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,uBAAuB,EAAE,MAAM,8BAA8B,CAAC;AACvE,OAAO,EAAE,8BAA8B,EAAE,MAAM,sCAAsC,CAAC;AACtF,OAAO,EAAE,UAAU,EAAE,MAAM,8BAA8B,CAAC;AAG1D,MAAM,OAAO,8BAA+B,SAAQ,8BAAuD;IAChG,GAAG,CAAS;IAEnB,YAAmB,SAAkB;QACjC,KAAK,CAAC,SAAS,CAAC,CAAC;IACrB,CAAC;IAES,mBAAmB;QACzB,OAAO,IAAI,uBAAuB,EAAE,CAAC;IACzC,CAAC;IAED,iBAAiB,CAAC,WAAgC,EAAE,cAAuB,IAAI;QAC3E,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,WAAW,EAAE,CAAC;YAC3B,UAAU,CAAC,0BAA0B,EACjC,0GAA0G,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC;QAC7I,CAAC;QACD,OAAO,KAAK,CAAC,iBAAiB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;IAC7D,CAAC;IAES,kBAAkB,CAAC,eAAwC,EAAE,WAAgC;QACnG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACZ,OAAO;QACX,CAAC;QAED,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACvC,CAAC;CACJ","sourcesContent":["import { CountersIndexDefinition } from \"./CountersIndexDefinition.js\";\r\nimport { AbstractIndexDefinitionBuilder } from \"../AbstractIndexDefinitionBuilder.js\";\r\nimport { throwError } from \"../../../Exceptions/index.js\";\r\nimport { DocumentConventions } from \"../../Conventions/DocumentConventions.js\";\r\n\r\nexport class CountersIndexDefinitionBuilder extends AbstractIndexDefinitionBuilder<CountersIndexDefinition> {\r\n    public map: string;\r\n\r\n    public constructor(indexName?: string) {\r\n        super(indexName);\r\n    }\r\n\r\n    protected _newIndexDefinition(): CountersIndexDefinition {\r\n        return new CountersIndexDefinition();\r\n    }\r\n\r\n    toIndexDefinition(conventions: DocumentConventions, validateMap: boolean = true): CountersIndexDefinition {\r\n        if (!this.map && validateMap) {\r\n            throwError(\"InvalidArgumentException\",\r\n                \"Map is required to generate an index, you cannot create an index without a valid Map property (in index \" + this._indexName + \").\");\r\n        }\r\n        return super.toIndexDefinition(conventions, validateMap);\r\n    }\r\n\r\n    protected _toIndexDefinition(indexDefinition: CountersIndexDefinition, conventions: DocumentConventions) {\r\n        if (!this.map) {\r\n            return;\r\n        }\r\n\r\n        indexDefinition.maps.add(this.map);\r\n    }\r\n}\r\n"]}