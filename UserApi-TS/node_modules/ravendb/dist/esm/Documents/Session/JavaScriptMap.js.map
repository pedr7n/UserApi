{"version":3,"file":"JavaScriptMap.js","sourceRoot":"","sources":["../../../../src/Documents/Session/JavaScriptMap.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,yBAAyB,CAAC;AAE9C,MAAM,OAAO,aAAa;IACL,OAAO,CAAS;IACzB,WAAW,GAAW,CAAC,CAAC;IAEf,UAAU,CAAS;IAEnB,YAAY,GAAG,EAAE,CAAC;IAClB,WAAW,GAAwB,EAAE,CAAC;IAEvD,YAAY,MAAc,EAAE,SAAiB;QACzC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;IAChC,CAAC;IAEM,GAAG,CAAC,GAAS,EAAE,KAAa;QAC/B,MAAM,YAAY,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAEjD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,GAAG,GAAG,GAAG,GAAG,GAAG,UAAU,GAAG,YAAY,GAAG,GAAG,CAAC,CAAC;QAChG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC;QAEvC,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,MAAM,CAAC,GAAS;QACnB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;QAC3E,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,oBAAoB;QACxB,OAAO,MAAM,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;IAC5D,CAAC;IAED,SAAS;QACL,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACvC,CAAC;IAED,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;CACJ","sourcesContent":["import { EOL } from \"../../Utility/OsUtil.js\";\r\n\r\nexport class JavaScriptMap<TKey, TValue> {\r\n    private readonly _suffix: number;\r\n    private _argCounter: number = 0;\r\n\r\n    private readonly _pathToMap: string;\r\n\r\n    private readonly _scriptLines = [];\r\n    private readonly _parameters: Record<string, any> = {};\r\n\r\n    constructor(suffix: number, pathToMap: string) {\r\n        this._suffix = suffix;\r\n        this._pathToMap = pathToMap;\r\n    }\r\n\r\n    public set(key: TKey, value: TValue) {\r\n        const argumentName = this._getNextArgumentName();\r\n\r\n        this._scriptLines.push(\"this.\" + this._pathToMap + \".\" + key + \" = args.\" + argumentName + \";\");\r\n        this._parameters[argumentName] = value;\r\n\r\n        return this;\r\n    }\r\n\r\n    public remove(key: TKey) {\r\n        this._scriptLines.push(\"delete this.\" + this._pathToMap + \".\" + key + \";\");\r\n        return this;\r\n    }\r\n\r\n    private _getNextArgumentName() {\r\n        return \"val_\" + this._argCounter++ + \"_\" + this._suffix;\r\n    }\r\n\r\n    getScript(): string {\r\n        return this._scriptLines.join(EOL);\r\n    }\r\n\r\n    get parameters() {\r\n        return this._parameters;\r\n    }\r\n}"]}