{"version":3,"file":"MoreLikeThisToken.js","sourceRoot":"","sources":["../../../../../src/Documents/Session/Tokens/MoreLikeThisToken.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAC;AAE7C,OAAO,EAAE,mBAAmB,EAAE,MAAM,2BAA2B,CAAC;AAGhE,MAAM,OAAO,iBAAkB,SAAQ,UAAU;IAEtC,qBAAqB,CAAS;IAC9B,oBAAoB,CAAS;IAC7B,WAAW,GAAiB,EAAE,CAAC;IAEtC;QACI,KAAK,EAAE,CAAC;IACZ,CAAC;IAEM,OAAO,CAAC,MAAqB;QAChC,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;QAE/B,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC/C,mBAAmB,CAAC,gBAAgB,CAChC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;gBACzE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YACxC,CAAC;QACL,CAAC;aAAM,CAAC;YACJ,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;QAC1D,CAAC;QAED,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC7B,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACnB,OAAO;QACX,CAAC;QAED,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC;aACf,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC;aACjC,MAAM,CAAC,GAAG,CAAC,CAAC;IACrB,CAAC;CACJ","sourcesContent":["import { WhereToken } from \"./WhereToken.js\";\r\nimport { QueryToken } from \"./QueryToken.js\";\r\nimport { DocumentQueryHelper } from \"../DocumentQueryHelper.js\";\r\nimport { StringBuilder } from \"../../../Utility/StringBuilder.js\";\r\n\r\nexport class MoreLikeThisToken extends WhereToken {\r\n\r\n    public documentParameterName: string;\r\n    public optionsParameterName: string;\r\n    public whereTokens: QueryToken[] = [];\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public writeTo(writer: StringBuilder): void {\r\n        writer.append(\"moreLikeThis(\");\r\n\r\n        if (!this.documentParameterName) {\r\n            for (let i = 0; i < this.whereTokens.length; i++) {\r\n                DocumentQueryHelper.addSpaceIfNeeded(\r\n                    i > 0 ? this.whereTokens[i - 1] : null, this.whereTokens[i], writer);\r\n                this.whereTokens[i].writeTo(writer);\r\n            }\r\n        } else {\r\n            writer.append(\"$\").append(this.documentParameterName);\r\n        }\r\n\r\n        if (!this.optionsParameterName) {\r\n            writer.append(\")\");\r\n            return;\r\n        }\r\n\r\n        writer.append(\", $\")\r\n            .append(this.optionsParameterName)\r\n            .append(\")\");\r\n    }\r\n}\r\n"]}