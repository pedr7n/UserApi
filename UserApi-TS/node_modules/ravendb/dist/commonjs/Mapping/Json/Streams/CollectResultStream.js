"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CollectResultStream = void 0;
const node_stream_1 = require("node:stream");
class CollectResultStream extends node_stream_1.Writable {
    _result;
    _resultPromise;
    get promise() {
        return this._resultPromise;
    }
    constructor() {
        super({ objectMode: true });
        this._resultPromise = new Promise((resolve, reject) => {
            this.once("finish", () => resolve(this._result));
        });
    }
    _write(chunk, enc, callback) {
        this._result = chunk;
        callback();
    }
}
exports.CollectResultStream = CollectResultStream;
//# sourceMappingURL=CollectResultStream.js.map