{"version":3,"file":"Stringer.js","sourceRoot":"","sources":["../../../../../src/ext/stream-json/jsonl/Stringer.ts"],"names":[],"mappings":";;;AACA,6CAAwC;AAExC,MAAa,aAAc,SAAQ,uBAAS;IACxC,SAAS,CAAM;IAEf,MAAM,CAAC,IAAI,CAAC,OAAO;QACf,OAAO,IAAI,aAAa,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC;IAED,YAAY,OAAO;QACf,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,EAAE,EAAC,kBAAkB,EAAE,IAAI,EAAE,kBAAkB,EAAE,KAAK,EAAC,CAAC,CAAC,CAAC;QACzF,IAAI,CAAC,SAAS,GAAG,OAAO,IAAI,OAAO,CAAC,QAAQ,CAAC;IACjD,CAAC;IAED,UAAU,CAAC,KAAK,EAAE,CAAC,EAAE,QAAQ;QACzB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC;QACtC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACnB,CAAC;IAED,cAAc,CAAC,KAAK,EAAE,CAAC,EAAE,QAAQ;QAC7B,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QACxD,QAAQ,CAAC,IAAI,CAAC,CAAC;IACnB,CAAC;CACJ;AAtBD,sCAsBC","sourcesContent":["\r\nimport { Transform } from \"node:stream\";\r\n\r\nexport class JsonlStringer extends Transform {\r\n    _replacer: any;\r\n\r\n    static make(options) {\r\n        return new JsonlStringer(options);\r\n    }\r\n\r\n    constructor(options) {\r\n        super(Object.assign({}, options, {writableObjectMode: true, readableObjectMode: false}));\r\n        this._replacer = options && options.replacer;\r\n    }\r\n\r\n    _transform(chunk, _, callback) {\r\n        this.push(JSON.stringify(chunk, this._replacer));\r\n        this._transform = this._nextTransform;\r\n        callback(null);\r\n    }\r\n\r\n    _nextTransform(chunk, _, callback) {\r\n        this.push('\\n' + JSON.stringify(chunk, this._replacer));\r\n        callback(null);\r\n    }\r\n}\r\n"]}