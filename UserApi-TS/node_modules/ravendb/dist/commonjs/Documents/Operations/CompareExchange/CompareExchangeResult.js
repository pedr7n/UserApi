"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CompareExchangeResult = void 0;
const index_js_1 = require("../../../Exceptions/index.js");
const CompareExchangeValueResultParser_js_1 = require("./CompareExchangeValueResultParser.js");
class CompareExchangeResult {
    value;
    index;
    successful;
    static parseFromObject(response, conventions, clazz) {
        if (!response.Index) {
            (0, index_js_1.throwError)("InvalidOperationException", "Response is invalid. Index is missing");
        }
        if (clazz) {
            conventions.tryRegisterJsType(clazz);
        }
        const raw = response.Value;
        const result = CompareExchangeValueResultParser_js_1.CompareExchangeValueResultParser.deserializeObject(raw, conventions, clazz);
        const exchangeResult = new CompareExchangeResult();
        exchangeResult.index = response.Index;
        exchangeResult.successful = response.Successful;
        exchangeResult.value = result;
        return exchangeResult;
    }
}
exports.CompareExchangeResult = CompareExchangeResult;
//# sourceMappingURL=CompareExchangeResult.js.map