{"version":3,"file":"RevisionIncludesToken.js","sourceRoot":"","sources":["../../../../../src/Documents/Session/Tokens/RevisionIncludesToken.ts"],"names":[],"mappings":";;;AAAA,mDAA6C;AAC7C,8DAAwD;AAExD,kEAA4D;AAG5D,MAAa,qBAAsB,SAAQ,0BAAU;IAChC,SAAS,CAAS;IAClB,KAAK,CAAS;IAE/B,YAAoB,IAAqC;QACrD,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC;QAC3B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;IAC3B,CAAC;IAEM,MAAM,CAAC,aAAa,CAAC,QAAc;QACtC,OAAO,IAAI,qBAAqB,CAAC;YAC7B,IAAI,EAAE,sBAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;SACzC,CAAC,CAAC;IACP,CAAC;IAEM,MAAM,CAAC,aAAa,CAAC,IAAY;QACpC,OAAO,IAAI,qBAAqB,CAAC;YAC7B,IAAI;SACP,CAAC,CAAC;IACP,CAAC;IAED,OAAO,CAAC,MAAqB;QACzB,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QAC7B,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClC,CAAC;aAAM,IAAI,CAAC,0BAAU,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;YACpD,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC;QAED,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACxB,CAAC;CACJ;AAjCD,sDAiCC","sourcesContent":["import { QueryToken } from \"./QueryToken.js\";\r\nimport { DateUtil } from \"../../../Utility/DateUtil.js\";\r\nimport { StringBuilder } from \"../../../Utility/StringBuilder.js\";\r\nimport { StringUtil } from \"../../../Utility/StringUtil.js\";\r\n\r\n\r\nexport class RevisionIncludesToken extends QueryToken {\r\n    private readonly _dateTime: string;\r\n    private readonly _path: string;\r\n\r\n    private constructor(args: { date?: string, path?: string}) {\r\n        super();\r\n\r\n        this._dateTime = args.date;\r\n        this._path = args.path;\r\n    }\r\n\r\n    public static createForDate(dateTime: Date) {\r\n        return new RevisionIncludesToken({\r\n            date: DateUtil.utc.stringify(dateTime),\r\n        });\r\n    }\r\n\r\n    public static createForPath(path: string) {\r\n        return new RevisionIncludesToken({\r\n            path\r\n        });\r\n    }\r\n\r\n    writeTo(writer: StringBuilder) {\r\n        writer.append(\"revisions('\");\r\n        if (this._dateTime) {\r\n            writer.append(this._dateTime);\r\n        } else if (!StringUtil.isNullOrWhitespace(this._path)) {\r\n            writer.append(this._path);\r\n        }\r\n\r\n        writer.append(\"')\");\r\n    }\r\n}\r\n"]}